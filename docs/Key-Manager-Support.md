# Configuring Inji Certify to Use an Externally Signed CA Certificate
Inji Certify allows issuers to integrate their own CA-signed certificates into the credential signing pipeline. This workflow guides you through the complete setup—from generating a CSR to uploading the signed certificate—so that all Verifiable Credentials (VCs) are signed using your institution’s PKI.

## Overview
When using an external CA, the system must be configured with:
 - A Certificate Signing Request (CSR) generated by Inji Certify.
 - The CA’s root/intermediate certificate.
 - The externally signed certificate.

Once configured, the Key Manager will generate and manage keys tied to the uploaded certificates and use them to sign Verifiable Credentials.

## Workflow Steps
1. **Generate a Certificate Signing Request (CSR):**
   Generate a CSR that must be signed by your external Certificate Authority.

```
    POST `/system-info/generate-csr`
```

 - Produces a Certificate Signing Request (CSR) data, typically in PEM format.
 - Must be submitted to your CA for signing.
 - CA returns a signed certificate based on this CSR.


2. **Upload the CA Certificate:**
   Upload the CA’s trust chain (root and/or intermediate certificates).

```
    POST `/system-info/upload-ca-certificate`
```

 - Registers the CA’s trust anchors.
 - Allows Certify to validate the certificate chain for VC signing.


3. **Upload the Signed Certificate:**
   Upload the externally signed certificate received from the CA.

```
    POST `/system-info/uploadCertificate`
```

 - Stores the CA-signed certificate as the active signing certificate.
 - Enables the Key Manager to use it for signing VCs.
 - Integrates the certificate into the ongoing key lifecycle.


## System Behavior After Configuration
Once all three steps are completed:
 - The Key Manager manages signing keys derived from the uploaded certificates.
 - All VCs issued by Inji Certify are signed using the externally provided CA-backed certificate.
 - Issuers maintain alignment with their existing national or institutional PKI.

## Limitations & Important Considerations
### Certificate Expiry Handling
 - Inji Certify does not automatically manage or renew externally signed certificates.
 - If the uploaded certificate expires, the Key Manager will fallback to using a self-signed certificate and regenerate the keys accordingly.
 - To avoid unintended fallback behavior and ensure uninterrupted trust alignment, issuers must:
  **Upload a new externally signed certificate before the current certificate expires.**

*The above steps ensure that credential signing continues using the intended CA-signed certificate without disruption.*