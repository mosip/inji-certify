openapi: 3.0.1
info:
  title: inji certify
  description: inji certify
  license:
    name: Mosip
    url: 'https://docs.mosip.io/platform/license'
  version: '1.0'
servers:
  - url: 'http://localhost:8090/v1/certify'
    description: for swagger
paths:
  /issuance/.well-known/openid-credential-issuer:
    get:
      operationId: getMetadata
      parameters:
        - name: version
          in: query
          required: false
          schema:
            type: string
            enum:
              - vd11
              - vd12
              - latest
            default: latest
      description: 'Get the OpenID wellknown '
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                description: |
                  OpenID Connect Well-Known configuration document.
                  Structure varies by draft version and provider implementation.
                  
                  **Example:**
                  ```json
                  {
                    "credential_issuer": "https://injicertify-farmer.collab.mosip.net",
                    "authorization_servers": [
                      "https://esignet-farmer.collab.mosip.net"
                    ],
                    "credential_endpoint": "https://injicertify-farmer.collab.mosip.net/v1/certify/issuance/credential",
                    "display": [
                      {
                        "name": "Farmer Credential",
                        "locale": "en"
                      }
                    ],
                    "credential_configurations_supported": {
                      "FarmerCredential": {
                        "format": "ldp_vc",
                        "scope": "farmer_vc_ldp",
                        "cryptographic_binding_methods_supported": [
                          "did:jwk"
                        ],
                        "credential_signing_alg_values_supported": [
                          "Ed25519Signature2020"
                        ],
                        "proof_types_supported": {
                          "jwt": {
                            "proof_signing_alg_values_supported": [
                              "RS256",
                              "PS256"
                            ]
                          }
                        },
                        "credential_definition": {
                          "type": [
                            "VerifiableCredential",
                            "FarmerCredential"
                          ],
                          "credentialSubject": {
                            "fullName": {
                              "display": [
                                {
                                  "name": "Name",
                                  "locale": "en"
                                }
                              ]
                            },
                            "mobile": {
                              "display": [
                                {
                                  "name": "Phone Number",
                                  "locale": "en"
                                }
                              ]
                            },
                            "dob": {
                              "display": [
                                {
                                  "name": "Date of Birth",
                                  "locale": "en"
                                }
                              ]
                            },
                            "gender": {
                              "display": [
                                {
                                  "name": "Gender",
                                  "locale": "en"
                                }
                              ]
                            },
                            "benefits": {
                              "display": [
                                {
                                  "name": "Crops",
                                  "locale": "en"
                                }
                              ]
                            },
                            "email": {
                              "display": [
                                {
                                  "name": "Email Id",
                                  "locale": "en"
                                }
                              ]
                            },
                            "policyIssuedOn": {
                              "display": [
                                {
                                  "name": "Date of Issuance",
                                  "locale": "en"
                                }
                              ]
                            },
                            "policyExpiresOn": {
                              "display": [
                                {
                                  "name": "Valid Till",
                                  "locale": "en"
                                }
                              ]
                            },
                            "policyName": {
                              "display": [
                                {
                                  "name": "Land Ownership Type",
                                  "locale": "en"
                                }
                              ]
                            },
                            "policyNumber": {
                              "display": [
                                {
                                  "name": "Farmer Id",
                                  "locale": "en"
                                }
                              ]
                            }
                          }
                        },
                        "display": [
                          {
                            "name": "Farmer Credential",
                            "locale": "en",
                            "logo": {
                              "url": "https://raw.githubusercontent.com/tw-mosip/file-server/master/Agro%20Vertias%20Logo.png",
                              "alt_text": "Farmer Credential"
                            },
                            "background_color": "#F7FFF8",
                            "background_image": {
                              "uri": "https://raw.githubusercontent.com/tw-mosip/file-server/master/Agro%20Vertias%20Logo.png"
                            },
                            "text_color": "#051B09"
                          }
                        ],
                        "order": [
                          "policyNumber",
                          "fullName",
                          "policyName",
                          "benefits",
                          "policyIssuedOn",
                          "policyExpiresOn",
                          "mobile",
                          "dob",
                          "gender",
                          "email"
                        ]
                      }
                    }
                  } 
                  ```
              x-examples:
                Example vd11:
                  credential_issuer: 'http://localhost:8090'
                  credential_endpoint: 'http://localhost:8090/v1/certify/issuance/credential?version=vd11'
                  authorization_servers:
                    - 'http://localhost:8080'
                  display:
                    - name: Insurance
                      locale: en
                  credentials_supported:
                    InsuranceCredential:
                      format: ldp_vc
                      scope: sunbird_rc_insurance_vc_ldp
                      cryptographic_binding_methods_supported:
                        - 'did:jwk'
                      credential_signing_alg_values_supported:
                        - Ed25519Signature2020
                      proof_types_supported:
                        type: object
                        properties:
                          proof_signing_alg_values_supported:
                            type: array
                            items:
                              ['RS256']
                            examples:
                              - RS256
                              - PS256
                      credential_definition:
                        type:
                          - VerifiableCredential
                          - InsuranceCredential
                        credentialSubject:
                          fullName:
                            display:
                              - name: Name
                                locale: en
                          mobile:
                            display:
                              - name: Phone Number
                                locale: en
                          dob:
                            display:
                              - name: Date of Birth
                                locale: en
                          gender:
                            display:
                              - name: Gender
                                locale: en
                          benefits:
                            display:
                              - name: Benefits
                                locale: en
                          email:
                            display:
                              - name: Email Id
                                locale: en
                          policyIssuedOn:
                            display:
                              - name: Policy Issued On
                                locale: en
                          policyExpiresOn:
                            display:
                              - name: Policy Expires On
                                locale: en
                          policyName:
                            display:
                              - name: Policy Name
                                locale: en
                          policyNumber:
                            display:
                              - name: Policy Number
                                locale: en
                      display:
                        - name: Sunbird RC Insurance Verifiable Credential
                          locale: en
                          logo:
                            url: 'https://sunbird.org/images/sunbird-logo-new.png'
                            alt_text: a square logo of a Sunbird
                          background_color: '#FDFAF9'
                          text_color: '#7C4616'
                      order:
                        - fullName
                        - policyName
                        - policyExpiresOn
                        - policyIssuedOn
                        - policyNumber
                        - mobile
                        - dob
                        - gender
                        - benefits
                        - email
                    LifeInsuranceCredential:
                      format: ldp_vc
                      scope: life_insurance_vc_ldp
                      cryptographic_binding_methods_supported:
                        - 'did:jwk'
                      cryptographic_suites_supported:
                        - Ed25519Signature2020
                      proof_types_supported:
                        - jwt
                      credential_definition:
                        type:
                          - VerifiableCredential
                        credentialSubject:
                          fullName:
                            display:
                              - name: Name
                                locale: en
                          mobile:
                            display:
                              - name: Phone Number
                                locale: en
                          dob:
                            display:
                              - name: Date of Birth
                                locale: en
                          gender:
                            display:
                              - name: Gender
                                locale: en
                          benefits:
                            display:
                              - name: Benefits
                                locale: en
                          email:
                            display:
                              - name: Email Id
                                locale: en
                          policyIssuedOn:
                            display:
                              - name: Policy Issued On
                                locale: en
                          policyExpiresOn:
                            display:
                              - name: Policy Expires On
                                locale: en
                          policyName:
                            display:
                              - name: Policy Name
                                locale: en
                          policyNumber:
                            display:
                              - name: Policy Number
                                locale: en
                      display:
                        - name: Life Insurance Verifiable Credential
                          locale: en
                          logo:
                            url: 'https://sunbird.org/images/sunbird-logo-new.png'
                            alt_text: a square logo of a Sunbird
                          background_color: '#FDFAF9'
                          text_color: '#7C4616'
                      order:
                        - fullName
                        - policyName
                        - policyExpiresOn
                        - policyIssuedOn
                        - policyNumber
                        - mobile
                        - dob
                        - gender
                        - benefits
                        - email
                Example vd12:
                  credential_issuer: 'http://localhost:8090'
                  credential_endpoint: 'http://localhost:8090/v1/certify/issuance/credential?version=vd12'
                  authorization_servers:
                    - 'http://localhost:8080'
                  display:
                    - name: Insurance
                      locale: en
                  credentials_supported:
                    InsuranceCredential:
                      format: ldp_vc
                      scope: sunbird_rc_insurance_vc_ldp
                      cryptographic_binding_methods_supported:
                        - 'did:jwk'
                      credential_signing_alg_values_supported:
                        - Ed25519Signature2020
                      proof_types_supported:
                        type: object
                        properties:
                          proof_signing_alg_values_supported:
                            type: array
                            items:
                              ['RS256']
                            examples:
                              - RS256
                              - PS256
                      credential_definition:
                        type:
                          - VerifiableCredential
                          - InsuranceCredential
                        credentialSubject:
                          fullName:
                            display:
                              - name: Name
                                locale: en
                          mobile:
                            display:
                              - name: Phone Number
                                locale: en
                          dob:
                            display:
                              - name: Date of Birth
                                locale: en
                          gender:
                            display:
                              - name: Gender
                                locale: en
                          benefits:
                            display:
                              - name: Benefits
                                locale: en
                          email:
                            display:
                              - name: Email Id
                                locale: en
                          policyIssuedOn:
                            display:
                              - name: Policy Issued On
                                locale: en
                          policyExpiresOn:
                            display:
                              - name: Policy Expires On
                                locale: en
                          policyName:
                            display:
                              - name: Policy Name
                                locale: en
                          policyNumber:
                            display:
                              - name: Policy Number
                                locale: en
                      display:
                        - name: Sunbird RC Insurance Verifiable Credential
                          locale: en
                          logo:
                            url: 'https://sunbird.org/images/sunbird-logo-new.png'
                            alt_text: a square logo of a Sunbird
                          background_color: '#FDFAF9'
                          text_color: '#7C4616'
                      order:
                        - fullName
                        - policyName
                        - policyExpiresOn
                        - policyIssuedOn
                        - policyNumber
                        - mobile
                        - dob
                        - gender
                        - benefits
                        - email
                    LifeInsuranceCredential:
                      format: ldp_vc
                      scope: life_insurance_vc_ldp
                      cryptographic_binding_methods_supported:
                        - 'did:jwk'
                      cryptographic_suites_supported:
                        - Ed25519Signature2020
                      proof_types_supported:
                        - jwt
                      credential_definition:
                        type:
                          - VerifiableCredential
                        credentialSubject:
                          fullName:
                            display:
                              - name: Name
                                locale: en
                          mobile:
                            display:
                              - name: Phone Number
                                locale: en
                          dob:
                            display:
                              - name: Date of Birth
                                locale: en
                          gender:
                            display:
                              - name: Gender
                                locale: en
                          benefits:
                            display:
                              - name: Benefits
                                locale: en
                          email:
                            display:
                              - name: Email Id
                                locale: en
                          policyIssuedOn:
                            display:
                              - name: Policy Issued On
                                locale: en
                          policyExpiresOn:
                            display:
                              - name: Policy Expires On
                                locale: en
                          policyName:
                            display:
                              - name: Policy Name
                                locale: en
                          policyNumber:
                            display:
                              - name: Policy Number
                                locale: en
                      display:
                        - name: Life Insurance Verifiable Credential
                          locale: en
                          logo:
                            url: 'https://sunbird.org/images/sunbird-logo-new.png'
                            alt_text: a square logo of a Sunbird
                          background_color: '#FDFAF9'
                          text_color: '#7C4616'
                      order:
                        - fullName
                        - policyName
                        - policyExpiresOn
                        - policyIssuedOn
                        - policyNumber
                        - mobile
                        - dob
                        - gender
                        - benefits
                        - email
                Example vd13:
                  credential_issuer: 'http://localhost:8090'
                  credential_endpoint: 'http://localhost:8090/v1/certify/issuance/credential'
                  display:
                    - name: Insurance
                      locale: en
                  credential_configurations_supported:
                    InsuranceCredential:
                      format: ldp_vc
                      scope: sunbird_rc_insurance_vc_ldp
                      cryptographic_binding_methods_supported:
                        - 'did:jwk'
                      cryptographic_suites_supported:
                        - Ed25519Signature2020
                      proof_types_supported:
                        - jwt
                      credential_definition:
                        type:
                          - VerifiableCredential
                          - InsuranceCredential
                        credentialSubject:
                          fullName:
                            display:
                              - name: Name
                                locale: en
                          mobile:
                            display:
                              - name: Phone Number
                                locale: en
                          dob:
                            display:
                              - name: Date of Birth
                                locale: en
                          gender:
                            display:
                              - name: Gender
                                locale: en
                          benefits:
                            display:
                              - name: Benefits
                                locale: en
                          email:
                            display:
                              - name: Email Id
                                locale: en
                          policyIssuedOn:
                            display:
                              - name: Policy Issued On
                                locale: en
                          policyExpiresOn:
                            display:
                              - name: Policy Expires On
                                locale: en
                          policyName:
                            display:
                              - name: Policy Name
                                locale: en
                          policyNumber:
                            display:
                              - name: Policy Number
                                locale: en
                      display:
                        - name: Sunbird RC Insurance Verifiable Credential
                          locale: en
                          logo:
                            url: 'https://sunbird.org/images/sunbird-logo-new.png'
                            alt_text: a square logo of a Sunbird
                          background_color: '#FDFAF9'
                          text_color: '#7C4616'
                      order:
                        - fullName
                        - policyName
                        - policyExpiresOn
                        - policyIssuedOn
                        - policyNumber
                        - mobile
                        - dob
                        - gender
                        - benefits
                        - email
                    LifeInsuranceCredential:
                      format: ldp_vc
                      scope: life_insurance_vc_ldp
                      cryptographic_binding_methods_supported:
                        - 'did:jwk'
                      cryptographic_suites_supported:
                        - Ed25519Signature2020
                      proof_types_supported:
                        - jwt
                      credential_definition:
                        type:
                          - VerifiableCredential
                        credentialSubject:
                          fullName:
                            display:
                              - name: Name
                                locale: en
                          mobile:
                            display:
                              - name: Phone Number
                                locale: en
                          dob:
                            display:
                              - name: Date of Birth
                                locale: en
                          gender:
                            display:
                              - name: Gender
                                locale: en
                          benefits:
                            display:
                              - name: Benefits
                                locale: en
                          email:
                            display:
                              - name: Email Id
                                locale: en
                          policyIssuedOn:
                            display:
                              - name: Policy Issued On
                                locale: en
                          policyExpiresOn:
                            display:
                              - name: Policy Expires On
                                locale: en
                          policyName:
                            display:
                              - name: Policy Name
                                locale: en
                          policyNumber:
                            display:
                              - name: Policy Number
                                locale: en
                      display:
                        - name: Life Insurance Verifiable Credential
                          locale: en
                          logo:
                            url: 'https://sunbird.org/images/sunbird-logo-new.png'
                            alt_text: a square logo of a Sunbird
                          background_color: '#FDFAF9'
                          text_color: '#7C4616'
                      order:
                        - fullName
                        - policyName
                        - policyExpiresOn
                        - policyIssuedOn
                        - policyNumber
                        - mobile
                        - dob
                        - gender
                        - benefits
                        - email
              examples:
                Success response:
                  value:
                    credential_issuer: 'http://localhost:8090'
                    credential_endpoint: 'http://localhost:8090/v1/certify/issuance/credential'
                    display:
                      - name: Farmer Credential
                        locale: en
                    credential_configurations_supported:
                      FarmerCredential:
                        format: ldp_vc
                        scope: farmer_vc_ldp
                        cryptographic_binding_methods_supported:
                          - 'did:jwk'
                        cryptographic_suites_supported:
                          - Ed25519Signature2020
                        proof_types_supported:
                          - jwt
                        credential_definition:
                          type:
                            - VerifiableCredential
                            - FarmerCredential
                          credentialSubject:
                            fullName:
                              display:
                                - name: Name
                                  locale: en
                            mobile:
                              display:
                                - name: Phone Number
                                  locale: en
                            dob:
                              display:
                                - name: Date of Birth
                                  locale: en
                            gender:
                              display:
                                - name: Gender
                                  locale: en
                            benefits:
                              display:
                                - name: Crops
                                  locale: en
                            email:
                              display:
                                - name: Email Id
                                  locale: en
                            policyIssuedOn:
                              display:
                                - name: Date of Issuance
                                  locale: en
                            policyExpiresOn:
                              display:
                                - name: Valid Till
                                  locale: en
                            policyName:
                              display:
                                - name: Land Ownership Type
                                  locale: en
                            policyNumber:
                              display:
                                - name: Farmer Id
                                  locale: en
                        display:
                          - name: Farmer Credential
                            locale: en
                            logo:
                              url: 'https://raw.githubusercontent.com/tw-mosip/file-server/master/Agro%20Vertias%20Logo.png'
                              alt_text: Farmer Credential
                            background_color: '#F7FFF8'
                            background_image:
                              uri: 'https://raw.githubusercontent.com/tw-mosip/file-server/master/Agro%20Vertias%20Logo.png'
                            text_color: '#051B09'
                        order:
                          - policyNumber
                          - fullName
                          - policyName
                          - benefits
                          - policyIssuedOn
                          - policyExpiresOn
                          - mobile
                          - dob
                          - gender
                          - email
    parameters: []
  /issuance/.well-known/did.json:
    get:
      summary: Fetch the DID object
      description: 'Fetch the DID object as per the URI references, Plugin Mode configured and the signature scheme chosen'
      responses:
        '200':
          description: A successful response with DID document data.
          content:
            application/json:
              schema:
                type: object
                properties:
                  assertionMethod:
                    type: array
                    description: List of assertion methods associated with the DID.
                    items:
                      type: string
                  service:
                    type: array
                    description: List of services associated with the DID (empty in this case).
                    items:
                      type: object
                  id:
                    type: string
                    description: The DID identifier.
                  verificationMethod:
                    type: array
                    items:
                      type: object
                      properties:
                        publicKeyMultibase:
                          type: string
                          description: The public key in multibase format.
                        publicKeyJwk:
                          type: object
                          description: The public key in JWK format.
                        controller:
                          type: string
                          description: The DID controller.
                        id:
                          type: string
                          description: The verification method identifier.
                        type:
                          type: string
                          description: The type of the verification method.
                        '@context':
                          type: string
                          description: The context for the verification method.
                      additionalProperties: true
                  '@context':
                    type: array
                    description: The context for the DID document.
                    items:
                      type: string
                  alsoKnownAs:
                    type: array
                    description: Alternate names associated with the DID.
                    items:
                      type: string
                  authentication:
                    type: array
                    description: List of authentication methods associated with the DID.
                    items:
                      type: string
                additionalProperties: true
              examples:
                Ed25519Example:
                  value:
                    assertionMethod: ["did:web:mosip.github.io:vc:collab#key-0"]
                    service: []
                    id: "did:web:mosip.github.io:vc:collab"
                    verificationMethod:
                      - publicKeyMultibase: "z6MktdWxFzyFMVkoxKoQ3GJQ8ibcYMqG8dSfTRjHG78pcFKG"
                        controller: "did:web:mosip.github.io:vc:collab"
                        id: "did:web:mosip.github.io:vc:collab#key-0"
                        type: "Ed25519VerificationKey2020"
                        "@context": "https://w3id.org/security/suites/ed25519-2020/v1"
                    "@context": ["https://www.w3.org/ns/did/v1"]
                    alsoKnownAs: []
                    authentication: ["did:web:mosip.github.io:vc:collab#key-0"]
                JWKExample:
                  value:
                    assertionMethod: ["did:web:mosip.github.io:vc:collab#key-0"]
                    service: []
                    id: "did:web:mosip.github.io:vc:collab"
                    verificationMethod:
                      - controller: "did:web:mosip.github.io:vc:collab"
                        publicKeyJwk:
                          kty: "RSA"
                          e: "AQAB"
                          n: "usfF3zped2sphzvBQ5cwwjot6ivWMkTg6OyB0DDtuUSJdQArrwWx1t44rcJlGoOvsxa_w_6E1f6DK5QxzGPy5NxJRUW15VzusLxc6Y75hmFEs-QUNG0YwkTWyu65gqk8GqYBbcR4DfsMf8Jf5_B9Spvv9cNlkprIeXrWo63y_PLx8NhEEGoSOLVDrej4ni0jcqqrUW5BNjDngGdfCpEQ-3NX2nKpJTdYuLnYEnlIfPqXhN05bFKd3xDDFYmPxB9kmcbaMUYW5G1ot5DKuJ5JdwFpDOb_zJyNg1zKZMIfy6qFVBMFy4r-Hi3hUXUtEYrGB3Q0dP1QmYdR4S9M9LdDtw"
                        id: "did:web:mosip.github.io:vc:collab#key-0"
                        type: "JsonWebKey2020"
                        "@context": "https://w3id.org/security/suites/jws-2020/v1"
                    "@context": ["https://www.w3.org/ns/did/v1"]
                    alsoKnownAs: []
                    authentication: ["did:web:mosip.github.io:vc:collab#key-0"]
        '400':
          description: unsupported for VCIssuance plugin mode
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    description: The error code.
                    example: unsupported_in_current_plugin_mode
                  error_description:
                    type: string
                    description: A detailed description of the error.
                    example: unsupported_in_current_plugin_mode
          headers:
            Content-Type:
              schema:
                type: string
              description: application/json
  '/rendering-template/{id}':
    get:
      summary: Fetch the SVG template
      description: A public endpoint to download the rendering template for Verifiable Credentials for rendering a VC
      parameters:
        - in: path
          name: id
          required: true
          description: A string matching the ID of the template in the DB.
          schema:
            type: string
      responses:
        '200':
          description: the svg template available for download
          headers:
            Cache-Control:
              description: Caching policy for the SVG template.
              schema:
                type: string
                example: public, max-age=2592000
          content:
            image/svg+xml:
              schema:
                type: string
                format: binary
                description: SVG image content
          
        '400':
          description: invalid template request
          content:
            application/json:
              schema:
                type: object
                properties:
                  responseTime:
                    type: string
                    format: date-time
                    example: '2024-10-21T12:07:06.991Z'
                  response:
                    type: object
                    nullable: true
                    example: null
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        errorCode:
                          type: string
                          example: invalid_request
                        errorMessage:
                          type: string
                          example: template_with_id_not_found
      x-stoplight:
        id: rt5t4bbccx6id
    parameters:
      - schema:
          type: string
        name: id
        in: path
        required: true
        description: the string id of the template
  /system-info/certificate:
    get:
      summary: Get the Certificate against an applicationId and referenceId
      description: A public endpoint to download a Keymanager managed Certificate
      parameters:
        - in: query
          name: applicationId
          required: true
          description: applicationId of the certificate
          schema:
            type: string
        - in: query
          name: referenceId
          required: false
          description: referenceId of the certificate
          schema:
            type: string
      responses:
        '200':
          description: Got the Certificate.
          content:
            application/json:
              schema:
                type: object
                properties:
                  responseTime:
                    type: string
                    format: date-time
                    description: The timestamp when the response was generated.
                  response:
                    type: object
                    properties:
                      certificate:
                        type: string
                        description: The certificate content in PEM format.
                        example: |-
                          -----BEGIN CERTIFICATE-----
                          MIIDxDCCAqygAwIBAgIImib36nzVvhAwDQYJKoZIhvcNAQELBQAweDELMAkGA1UE
                          BhMCSU4xCzAJBgNVBAgMAktBMRIwEAYDVQQHDAlCQU5HQUxPUkUxDjAMBgNVBAoM
                          BUlJSVRCMRcwFQYDVQQLDA5FWEFNUExFLUNFTlRFUjEfMB0GA1UEAwwWd3d3LmV4
                          YW1wbGUuY29tIChST09UKTAeFw0yNDEyMTMxMTMxNTVaFw0yNzEyMTMxMTMxNTVa
                          MIGEMQswCQYDVQQGEwJJTjELMAkGA1UECAwCS0ExEjAQBgNVBAcMCUJBTkdBTE9S
                          ...
                          -----END CERTIFICATE-----
                      certSignRequest:
                        type: string
                        nullable: true
                        description: The certificate signing request. Can be null.
                        example: null
                      issuedAt:
                        type: string
                        format: date-time
                        description: The issuance date of the certificate.
                      expiryAt:
                        type: string
                        format: date-time
                        description: The expiration date of the certificate.
                      timestamp:
                        type: string
                        format: date-time
                        description: The generation timestamp of the certificate response.
                  errors:
                    type: array
                    description: List of errors, if any.
                    items:
                      type: object
                      properties:
                        errorCode:
                          type: string
                          description: The error code identifying the issue.
                        errorMessage:
                          type: string
                          description: Detailed error message describing the issue.
          
                        
      x-stoplight:
        id: rt5t4bbccx6id
    post:
      summary: upload a Certificate against an applicationId and referenceId
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                applicationId:
                  type: string
                referenceId:
                  type: string
                  default: ''
                certificateData:
                  type: string
      responses:
        '200':
          description: Got the Certificate.
          content:
            application/json:
              schema:
                type: object
                properties:
                  responseTime:
                    type: string
                    format: date-time
                    description: The timestamp when the response was generated.
                  response:
                    type: object
                    properties:
                      certificate:
                        type: string
                        description: The certificate content in PEM format.
                        example: |-
                          -----BEGIN CERTIFICATE-----
                          MIIDxDCCAqygAwIBAgIImib36nzVvhAwDQYJKoZIhvcNAQELBQAweDELMAkGA1UE
                          BhMCSU4xCzAJBgNVBAgMAktBMRIwEAYDVQQHDAlCQU5HQUxPUkUxDjAMBgNVBAoM
                          BUlJSVRCMRcwFQYDVQQLDA5FWEFNUExFLUNFTlRFUjEfMB0GA1UEAwwWd3d3LmV4
                          YW1wbGUuY29tIChST09UKTAeFw0yNDEyMTMxMTMxNTVaFw0yNzEyMTMxMTMxNTVa
                          MIGEMQswCQYDVQQGEwJJTjELMAkGA1UECAwCS0ExEjAQBgNVBAcMCUJBTkdBTE9S
                          ...
                          -----END CERTIFICATE-----
                      certSignRequest:
                        type: string
                        nullable: true
                        description: The certificate signing request. Can be null.
                        example: null
                      issuedAt:
                        type: string
                        format: date-time
                        description: The issuance date of the certificate.
                      expiryAt:
                        type: string
                        format: date-time
                        description: The expiration date of the certificate.
                      timestamp:
                        type: string
                        format: date-time
                        description: The generation timestamp of the certificate response.
                  errors:
                    type: array
                    description: List of errors, if any.
                    items:
                      type: object
                      properties:
                        errorCode:
                          type: string
                          description: The error code identifying the issue.
                        errorMessage:
                          type: string
                          description: Detailed error message describing the issue.
  /issuance/credential:
    post:
      summary: Credential Issuance endpoint
      description: 'Once the access token is received via the token endpoint, Wallet should invoke this endpoint to get the verifiable credential.'
      operationId: post-vci-credential
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CredentialRequest'
            examples:
              Example 1:
                value:
                  format: ldp_vc
                  credential_definition:
                    type:
                      - VerifiableCredential
                      - SampleVerifiableCredential_ldp
                    '@context':
                      - 'https://www.w3.org/2018/credentials/v1'
                  proof:
                    proof_type: jwt
                    jwt: eyJ0eXAiOiJvcGVuaWQ0dmNpLXByb29mK2p3dCIsImFsZyI6IlJTMjU2IiwiandrIjp7Imt0eSI6IlJTQSIsIm4iOiJtYzdzbWdHd0N6ZzZ5WENoM2ZYc3hTc2ROZlFzM3BTZGdZZUstdnpnYWZCQkNBTnZ2YWxqeUJ2YTlYZzA5YWhLMG9KV0hZY2p3Rm5QeU5uX0dkSjJValZPRlJDbllZNWZvejUxbmt0NUJod2l1V1IteWpZN2NZaXI5MjAySlI2RldaNExpamVVNm54WUVrbnFxZ1B6LXZmU0pSa2M5b2t6VEJ4LW9qb0FaOWJTaUJqMm9XNzVsWkhrMlBoU0NkTDNtQzUyaVRkUWpra2NFNHY0ZVpzWVBrZVROSmlmWE1sQ1J3Mlg0X1N6d2N3YkNNWUJqWlhRUFJ1OXdudEJqd0NUOGZTaDJjZVlCdUs4YlViQXBLelhDSGotUnAwZHMyMDdtbEFhcnRlRURhMS1qbW5ZYWxxS2lfQ2tzU1ZuNEQyMThXOWZHSElYcEJlSXBTWjlHc3hHdXciLCJlIjoiQVFBQiIsImtpZCI6IkY1R0hPai1STHF0S19TSUtabmx4ckpoTFN4MFAyVlZsNFVzTXpuT1ByNW8iLCJhbGciOiJSUzI1NiIsInVzZSI6InNpZyJ9fQ.eyJpYXQiOjE2OTg2NDY2NDMsIm5iZiI6MTY5ODY0NjY0MywiZXhwIjoxNjk4NjQ3MjQ4LCJqdGkiOiJPR0J3RjRCNGNsSWJzWUxGT3ZWM2IiLCJhdWQiOiJodHRwczovL2VzaWduZXQtbW9jay5jb2xsYWIubW9zaXAubmV0L3YxL2VzaWduZXQiLCJub25jZSI6IllXZUluR2MwdVljcHQ1TlZLcTVYIiwiaXNzIjoiODhWanQzNGM1VHd6MW9KIn0.MMVBHdIpvmRwBw4-MY6LaE4p-k5NwCRcwktKCK3MvNiJ5LNqx_Z4lJ23x359IxFtpMNbH0xnC0ajU-mYLJRJ7WsbKWemENmHp3e7nRDzDlDufu92vzh_dmHvxmcxQQKEEr_xH5c8vypUANsAbg8Ltas6eoe5jFoSrS-Oi4TNplw8aoS4cdH16ezEdb1RtluSKi5tajM9eS2reREj3sFXyVphxIxCUD6VbwuvByPPOWhSVf4bW_pCAoztiRJ9Fc_WXR7XLTIn3i46QczopaBIp8xPwEbBE_cl3Lo9etA0oLOxnRz6bzk5sa-ZtvVnsW4vOusy3mzSjVe10oHxWgw2CQ
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - credential
                properties:
                  credential:
                    description: 'Contains issued Credential. MUST be present when acceptance_token is not returned. MAY be a JSON string or a JSON object, depending on the Credential format.'
                    oneOf:
                      - type: object
                      - type: string
              examples:
                Example 1:
                  value:
                    credential:
                      issuanceDate: '2023-10-30T06:17:28.025Z'
                      credentialSubject:
                        gender: Male
                        name: John Doe
                        id: 'did:jwk:eyJrdHkiOiJSU0EiLCJlIjoiQVFBQiIsInVzZSI6InNpZyIsImtpZCI6IkY1R0hPai1STHF0S19TSUtabmx4ckpoTFN4MFAyVlZsNFVzTXpuT1ByNW8iLCJhbGciOiJSUzI1NiIsIm4iOiJtYzdzbWdHd0N6ZzZ5WENoM2ZYc3hTc2ROZlFzM3BTZGdZZUstdnpnYWZCQkNBTnZ2YWxqeUJ2YTlYZzA5YWhLMG9KV0hZY2p3Rm5QeU5uX0dkSjJValZPRlJDbllZNWZvejUxbmt0NUJod2l1V1IteWpZN2NZaXI5MjAySlI2RldaNExpamVVNm54WUVrbnFxZ1B6LXZmU0pSa2M5b2t6VEJ4LW9qb0FaOWJTaUJqMm9XNzVsWkhrMlBoU0NkTDNtQzUyaVRkUWpra2NFNHY0ZVpzWVBrZVROSmlmWE1sQ1J3Mlg0X1N6d2N3YkNNWUJqWlhRUFJ1OXdudEJqd0NUOGZTaDJjZVlCdUs4YlViQXBLelhDSGotUnAwZHMyMDdtbEFhcnRlRURhMS1qbW5ZYWxxS2lfQ2tzU1ZuNEQyMThXOWZHSElYcEJlSXBTWjlHc3hHdXcifQ=='
                        email: john.doe@mail.com
                      id: 'urn:uuid:3978344f-8596-4c3a-a978-8fcaba3903c5'
                      proof:
                        type: RsaSignature2018
                        created: '2023-10-30T06:17:28Z'
                        proofPurpose: assertionMethod
                        verificationMethod: 'https://esignet-mock.collab.mosip.net/v1/esignet/oauth/.well-known/jwks.json'
                        jws: eyJ4NWMiOlsiTUlJRHZUQ0NBcVdnQXdJQkFnSUk1VHhveEYydjhRQXdEUVlKS29aSWh2Y05BUUVMQlFBd2R6RUxNQWtHQTFVRUJoTUNTVTR4Q3pBSkJnTlZCQWdNQWt0Qk1SSXdFQVlEVlFRSERBbENRVTVIUVV4UFVrVXhEVEFMQmdOVkJBb01CRWxKVkVJeEdqQVlCZ05WQkFzTUVVMVBVMGxRTFZSRlEwZ3RRMFZPVkVWU01Sd3dHZ1lEVlFRRERCTjNkM2N1Ylc5emFYQXVhVzhnS0ZKUFQxUXBNQjRYRFRJek1ETXlOVEV3TWpFeE1Wb1hEVEkyTURNeU5ERXdNakV4TVZvd2Z6RUxNQWtHQTFVRUJoTUNTVTR4Q3pBSkJnTlZCQWdNQWt0Qk1SSXdFQVlEVlFRSERBbENRVTVIUVV4UFVrVXhEVEFMQmdOVkJBb01CRWxKVkVJeEdqQVlCZ05WQkFzTUVVMVBVMGxRTFZSRlEwZ3RRMFZPVkVWU01TUXdJZ1lEVlFRRERCdDNkM2N1Ylc5emFYQXVhVzhnS0U5SlJFTmZVMFZTVmtsRFJTa3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDeGJpYUt3M082dlI0SHczaExDc3FiQ1czRkc4UEthQ0RabDZNTUlEblVlbCtJa1FDMmxscTgrWlRMcmE3S1ViT294UHVxVzhwNDFmdVRqSlNzK0x3aEpRV3J2S2htbDB5THRSVkJCOUVTR2l5NVFYaWNSODBxVWRScjN3eVhRZkJGTFFEN1lRb1l4MUZMTUxaR21IYmd2N3Rnc3hxY2k1NEFjTTZmb1BXaUd0Z2NZbjJRenRsbTRjZ3FuWVNmcThDc3dtZ3o5N052ckxDRXF3bFhRZkpGQVZlRFF2SXFxNk00dkNkcXFLaldtNjlRVjlCUXUrczdCYkpFbUtGRDVtRTRhdWFwWW4zbWZLeXJWaGFGUGpFUW5iMHA0V3dGR3YzYTROTEFPRXVqVkJlVjUzZjJmdUZqSUxzZnBMK3MzRERRYUlYbEJKa3p3dWdjdWZ5Z1MzRm5BZ01CQUFHalJUQkRNQklHQTFVZEV3RUIvd1FJTUFZQkFmOENBUUV3SFFZRFZSME9CQllFRkg4dXN2ME52ekZHaWx4Sko2dExBYkVLSUJMQk1BNEdBMVVkRHdFQi93UUVBd0lDaERBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQWQ2ZVJmTzFZbHN2YXRMSktWZGVNcStzclhlYjNTblZJM0ZQSWlQa3d2STNsM1pmUVQ1ZzE0NWc2ajEzQisvOFZUNGFWZXBDZU5PbWNIczc3Y2g0OWxIUmg4anF3UXlqUFBsc1NmcW5Kd0JGUmRvNStkRnB5elZNeFdDUzBFRWJqb3RkZ2pvci9YaVVoRmFGMkhkZThyeHNnZWNmaUFZZS9nWnFZZjYzOFRxRi9RTnFCaTRhbitGQmNtT0FDalR6THE5Z01tSnJYa2h3V3V5dm5Sc0hKM2g2ZXd0b0RMN2gycm5QK2hBT1o3ckd1SEhDaVVXayt6eUcxdjdKT0NwSUJ2TEJyalpVbzNDRmxacEs3NERkbHBSVU1nK3JvcVdDNnFkTmZuemc5dFZBb1ZlVy9uUHAweit1QUtmb2w2NENlRUJmUmsrUXV2SmRyKzhCL1JaOHp4QT09Il0sIng1dCNTMjU2IjoiZkxnNTQ5dGFabmViUGZ6OTVlRzhyZXZuX2lSU2luMTFKZGxteFhOaUE5RSIsImtpZCI6IktPX21UcF9zVDB6bEZFVWRfblR0aGZvOXRFOVNfbUZCcno5MXBmN3lEUUEiLCJhbGciOiJSUzI1NiJ9..pZkf21YoT2mqzYlEJy9fkBartMTvEMMOUZPXw4-HIc6DeDUTqAMcRSkEfP1_ozvBE1ukxzqM2_IYpdQCVbYXEsCQLAXUmDQTfbdf8GImWBkRV7hXpCAJCN14A69trZCLvsW0jhIkIoSwPSszGk4MZ9rW7fBRpG9kbCF4nWajP5nRsPdC6tSckHWlHAWus0IhsYhSh85y2VYtBHTZ9g_NaB5S2pSp4MR_BBFdlpSfrgoepr7D9EY1hhU-b8vbjve9QnGSesqfPXUOKMwNA5UZ7tUYStWX8y9-19wwC3e_FjKhnKXMZrlAhCOLSL5O81r3ZWI3bpfOufHFZIZ7_gdvnQ
                      type:
                        - VerifiableCredential
                        - Person
                      '@context':
                        - 'https://www.w3.org/2018/credentials/v1'
                        - 'https://schema.org/'
                      issuer: 'did:example:123456789'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    enum:
                      - invalid_vc_format
                      - invalid_proof
                      - invalid_request
                      - unknown_error
                      - invalid_scope
                      - proof_header_invalid_key
                      - vc_issuance_failed
                      - unsupported_credential_format
                      - unsupported_credential_type
                      - proof_invalid_nonce
                      - not_implemented
                  error_description:
                    type: string
                  c_nonce:
                    type: string
                    description: This will have the value only when the error is "proof_invalid_nonce".
                  c_nonce_expires_in:
                    type: integer
                    description: This will have the value only when the error is "proof_invalid_nonce".
                required:
                  - error
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    enum: [invalid_token]
                  error_description:
                    type: string
                required:
                  - error
  /issuance/vd12/credential:
    post:
      summary: Credential Issuance endpoint - Draft 12
      description: 'Once the access token is received via the token endpoint, Wallet should invoke this endpoint to get the verifiable credential.'
      operationId: post-vci-credential-v12
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CredentialRequest'
            examples:
              Example 1:
                value:
                  format: ldp_vc
                  credential_definition:
                    type:
                      - VerifiableCredential
                      - SampleVerifiableCredential_ldp
                    '@context':
                      - 'https://www.w3.org/2018/credentials/v1'
                  proof:
                    proof_type: jwt
                    jwt: eyJ0eXAiOiJvcGVuaWQ0dmNpLXByb29mK2p3dCIsImFsZyI6IlJTMjU2IiwiandrIjp7Imt0eSI6IlJTQSIsIm4iOiJtYzdzbWdHd0N6ZzZ5WENoM2ZYc3hTc2ROZlFzM3BTZGdZZUstdnpnYWZCQkNBTnZ2YWxqeUJ2YTlYZzA5YWhLMG9KV0hZY2p3Rm5QeU5uX0dkSjJValZPRlJDbllZNWZvejUxbmt0NUJod2l1V1IteWpZN2NZaXI5MjAySlI2RldaNExpamVVNm54WUVrbnFxZ1B6LXZmU0pSa2M5b2t6VEJ4LW9qb0FaOWJTaUJqMm9XNzVsWkhrMlBoU0NkTDNtQzUyaVRkUWpra2NFNHY0ZVpzWVBrZVROSmlmWE1sQ1J3Mlg0X1N6d2N3YkNNWUJqWlhRUFJ1OXdudEJqd0NUOGZTaDJjZVlCdUs4YlViQXBLelhDSGotUnAwZHMyMDdtbEFhcnRlRURhMS1qbW5ZYWxxS2lfQ2tzU1ZuNEQyMThXOWZHSElYcEJlSXBTWjlHc3hHdXciLCJlIjoiQVFBQiIsImtpZCI6IkY1R0hPai1STHF0S19TSUtabmx4ckpoTFN4MFAyVlZsNFVzTXpuT1ByNW8iLCJhbGciOiJSUzI1NiIsInVzZSI6InNpZyJ9fQ.eyJpYXQiOjE2OTg2NDY2NDMsIm5iZiI6MTY5ODY0NjY0MywiZXhwIjoxNjk4NjQ3MjQ4LCJqdGkiOiJPR0J3RjRCNGNsSWJzWUxGT3ZWM2IiLCJhdWQiOiJodHRwczovL2VzaWduZXQtbW9jay5jb2xsYWIubW9zaXAubmV0L3YxL2VzaWduZXQiLCJub25jZSI6IllXZUluR2MwdVljcHQ1TlZLcTVYIiwiaXNzIjoiODhWanQzNGM1VHd6MW9KIn0.MMVBHdIpvmRwBw4-MY6LaE4p-k5NwCRcwktKCK3MvNiJ5LNqx_Z4lJ23x359IxFtpMNbH0xnC0ajU-mYLJRJ7WsbKWemENmHp3e7nRDzDlDufu92vzh_dmHvxmcxQQKEEr_xH5c8vypUANsAbg8Ltas6eoe5jFoSrS-Oi4TNplw8aoS4cdH16ezEdb1RtluSKi5tajM9eS2reREj3sFXyVphxIxCUD6VbwuvByPPOWhSVf4bW_pCAoztiRJ9Fc_WXR7XLTIn3i46QczopaBIp8xPwEbBE_cl3Lo9etA0oLOxnRz6bzk5sa-ZtvVnsW4vOusy3mzSjVe10oHxWgw2CQ
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  format:
                    type: string
                    description: JSON string denoting the format of the issued Credential.
                  credential:
                    description: 'Contains issued Credential. MUST be present when acceptance_token is not returned. MAY be a JSON string or a JSON object, depending on the Credential format.'
                    oneOf:
                      - type: object
                      - type: string
                required:
                  - format
                  - credential
              examples:
                Example 1:
                  value:
                    format: ldp_vc
                    credential:
                      issuanceDate: '2023-10-30T06:17:28.025Z'
                      credentialSubject:
                        gender: Male
                        name: John Doe
                        id: 'did:jwk:eyJrdHkiOiJSU0EiLCJlIjoiQVFBQiIsInVzZSI6InNpZyIsImtpZCI6IkY1R0hPai1STHF0S19TSUtabmx4ckpoTFN4MFAyVlZsNFVzTXpuT1ByNW8iLCJhbGciOiJSUzI1NiIsIm4iOiJtYzdzbWdHd0N6ZzZ5WENoM2ZYc3hTc2ROZlFzM3BTZGdZZUstdnpnYWZCQkNBTnZ2YWxqeUJ2YTlYZzA5YWhLMG9KV0hZY2p3Rm5QeU5uX0dkSjJValZPRlJDbllZNWZvejUxbmt0NUJod2l1V1IteWpZN2NZaXI5MjAySlI2RldaNExpamVVNm54WUVrbnFxZ1B6LXZmU0pSa2M5b2t6VEJ4LW9qb0FaOWJTaUJqMm9XNzVsWkhrMlBoU0NkTDNtQzUyaVRkUWpra2NFNHY0ZVpzWVBrZVROSmlmWE1sQ1J3Mlg0X1N6d2N3YkNNWUJqWlhRUFJ1OXdudEJqd0NUOGZTaDJjZVlCdUs4YlViQXBLelhDSGotUnAwZHMyMDdtbEFhcnRlRURhMS1qbW5ZYWxxS2lfQ2tzU1ZuNEQyMThXOWZHSElYcEJlSXBTWjlHc3hHdXcifQ=='
                        email: john.doe@mail.com
                      id: 'urn:uuid:3978344f-8596-4c3a-a978-8fcaba3903c5'
                      proof:
                        type: RsaSignature2018
                        created: '2023-10-30T06:17:28Z'
                        proofPurpose: assertionMethod
                        verificationMethod: 'https://esignet-mock.collab.mosip.net/v1/esignet/oauth/.well-known/jwks.json'
                        jws: eyJ4NWMiOlsiTUlJRHZUQ0NBcVdnQXdJQkFnSUk1VHhveEYydjhRQXdEUVlKS29aSWh2Y05BUUVMQlFBd2R6RUxNQWtHQTFVRUJoTUNTVTR4Q3pBSkJnTlZCQWdNQWt0Qk1SSXdFQVlEVlFRSERBbENRVTVIUVV4UFVrVXhEVEFMQmdOVkJBb01CRWxKVkVJeEdqQVlCZ05WQkFzTUVVMVBVMGxRTFZSRlEwZ3RRMFZPVkVWU01Sd3dHZ1lEVlFRRERCTjNkM2N1Ylc5emFYQXVhVzhnS0ZKUFQxUXBNQjRYRFRJek1ETXlOVEV3TWpFeE1Wb1hEVEkyTURNeU5ERXdNakV4TVZvd2Z6RUxNQWtHQTFVRUJoTUNTVTR4Q3pBSkJnTlZCQWdNQWt0Qk1SSXdFQVlEVlFRSERBbENRVTVIUVV4UFVrVXhEVEFMQmdOVkJBb01CRWxKVkVJeEdqQVlCZ05WQkFzTUVVMVBVMGxRTFZSRlEwZ3RRMFZPVkVWU01TUXdJZ1lEVlFRRERCdDNkM2N1Ylc5emFYQXVhVzhnS0U5SlJFTmZVMFZTVmtsRFJTa3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDeGJpYUt3M082dlI0SHczaExDc3FiQ1czRkc4UEthQ0RabDZNTUlEblVlbCtJa1FDMmxscTgrWlRMcmE3S1ViT294UHVxVzhwNDFmdVRqSlNzK0x3aEpRV3J2S2htbDB5THRSVkJCOUVTR2l5NVFYaWNSODBxVWRScjN3eVhRZkJGTFFEN1lRb1l4MUZMTUxaR21IYmd2N3Rnc3hxY2k1NEFjTTZmb1BXaUd0Z2NZbjJRenRsbTRjZ3FuWVNmcThDc3dtZ3o5N052ckxDRXF3bFhRZkpGQVZlRFF2SXFxNk00dkNkcXFLaldtNjlRVjlCUXUrczdCYkpFbUtGRDVtRTRhdWFwWW4zbWZLeXJWaGFGUGpFUW5iMHA0V3dGR3YzYTROTEFPRXVqVkJlVjUzZjJmdUZqSUxzZnBMK3MzRERRYUlYbEJKa3p3dWdjdWZ5Z1MzRm5BZ01CQUFHalJUQkRNQklHQTFVZEV3RUIvd1FJTUFZQkFmOENBUUV3SFFZRFZSME9CQllFRkg4dXN2ME52ekZHaWx4Sko2dExBYkVLSUJMQk1BNEdBMVVkRHdFQi93UUVBd0lDaERBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQWQ2ZVJmTzFZbHN2YXRMSktWZGVNcStzclhlYjNTblZJM0ZQSWlQa3d2STNsM1pmUVQ1ZzE0NWc2ajEzQisvOFZUNGFWZXBDZU5PbWNIczc3Y2g0OWxIUmg4anF3UXlqUFBsc1NmcW5Kd0JGUmRvNStkRnB5elZNeFdDUzBFRWJqb3RkZ2pvci9YaVVoRmFGMkhkZThyeHNnZWNmaUFZZS9nWnFZZjYzOFRxRi9RTnFCaTRhbitGQmNtT0FDalR6THE5Z01tSnJYa2h3V3V5dm5Sc0hKM2g2ZXd0b0RMN2gycm5QK2hBT1o3ckd1SEhDaVVXayt6eUcxdjdKT0NwSUJ2TEJyalpVbzNDRmxacEs3NERkbHBSVU1nK3JvcVdDNnFkTmZuemc5dFZBb1ZlVy9uUHAweit1QUtmb2w2NENlRUJmUmsrUXV2SmRyKzhCL1JaOHp4QT09Il0sIng1dCNTMjU2IjoiZkxnNTQ5dGFabmViUGZ6OTVlRzhyZXZuX2lSU2luMTFKZGxteFhOaUE5RSIsImtpZCI6IktPX21UcF9zVDB6bEZFVWRfblR0aGZvOXRFOVNfbUZCcno5MXBmN3lEUUEiLCJhbGciOiJSUzI1NiJ9..pZkf21YoT2mqzYlEJy9fkBartMTvEMMOUZPXw4-HIc6DeDUTqAMcRSkEfP1_ozvBE1ukxzqM2_IYpdQCVbYXEsCQLAXUmDQTfbdf8GImWBkRV7hXpCAJCN14A69trZCLvsW0jhIkIoSwPSszGk4MZ9rW7fBRpG9kbCF4nWajP5nRsPdC6tSckHWlHAWus0IhsYhSh85y2VYtBHTZ9g_NaB5S2pSp4MR_BBFdlpSfrgoepr7D9EY1hhU-b8vbjve9QnGSesqfPXUOKMwNA5UZ7tUYStWX8y9-19wwC3e_FjKhnKXMZrlAhCOLSL5O81r3ZWI3bpfOufHFZIZ7_gdvnQ
                      type:
                        - VerifiableCredential
                        - Person
                      '@context':
                        - 'https://www.w3.org/2018/credentials/v1'
                        - 'https://schema.org/'
                      issuer: 'did:example:123456789'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    enum:
                      - invalid_vc_format
                      - invalid_proof
                      - invalid_request
                      - unknown_error
                      - invalid_scope
                      - proof_header_invalid_key
                      - vc_issuance_failed
                      - unsupported_credential_format
                      - unsupported_credential_type
                      - proof_invalid_nonce
                      - not_implemented
                  error_description:
                    type: string
                  c_nonce:
                    type: string
                    description: This will have the value only when the error is "proof_invalid_nonce".
                  c_nonce_expires_in:
                    type: integer
                    description: This will have the value only when the error is "proof_invalid_nonce".
                required:
                  - error
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    enum: [invalid_token]
                  error_description:
                    type: string
                required:
                  - error
      security:
        - Authorization-access_token: []
  /issuance/vd11/credential:
    post:
      summary: Credential Issuance endpoint - Draft 11
      description: 'Once the access token is received via the token endpoint, Wallet should invoke this endpoint to get the verifiable credential.'
      operationId: post-vci-credential-v11
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CredentialRequest'
            examples:
              Example 1:
                value:
                  format: ldp_vc
                  credential_definition:
                    type:
                      - VerifiableCredential
                      - SampleVerifiableCredential_ldp
                    '@context':
                      - 'https://www.w3.org/2018/credentials/v1'
                  proof:
                    proof_type: jwt
                    jwt: eyJ0eXAiOiJvcGVuaWQ0dmNpLXByb29mK2p3dCIsImFsZyI6IlJTMjU2IiwiandrIjp7Imt0eSI6IlJTQSIsIm4iOiJtYzdzbWdHd0N6ZzZ5WENoM2ZYc3hTc2ROZlFzM3BTZGdZZUstdnpnYWZCQkNBTnZ2YWxqeUJ2YTlYZzA5YWhLMG9KV0hZY2p3Rm5QeU5uX0dkSjJValZPRlJDbllZNWZvejUxbmt0NUJod2l1V1IteWpZN2NZaXI5MjAySlI2RldaNExpamVVNm54WUVrbnFxZ1B6LXZmU0pSa2M5b2t6VEJ4LW9qb0FaOWJTaUJqMm9XNzVsWkhrMlBoU0NkTDNtQzUyaVRkUWpra2NFNHY0ZVpzWVBrZVROSmlmWE1sQ1J3Mlg0X1N6d2N3YkNNWUJqWlhRUFJ1OXdudEJqd0NUOGZTaDJjZVlCdUs4YlViQXBLelhDSGotUnAwZHMyMDdtbEFhcnRlRURhMS1qbW5ZYWxxS2lfQ2tzU1ZuNEQyMThXOWZHSElYcEJlSXBTWjlHc3hHdXciLCJlIjoiQVFBQiIsImtpZCI6IkY1R0hPai1STHF0S19TSUtabmx4ckpoTFN4MFAyVlZsNFVzTXpuT1ByNW8iLCJhbGciOiJSUzI1NiIsInVzZSI6InNpZyJ9fQ.eyJpYXQiOjE2OTg2NDY2NDMsIm5iZiI6MTY5ODY0NjY0MywiZXhwIjoxNjk4NjQ3MjQ4LCJqdGkiOiJPR0J3RjRCNGNsSWJzWUxGT3ZWM2IiLCJhdWQiOiJodHRwczovL2VzaWduZXQtbW9jay5jb2xsYWIubW9zaXAubmV0L3YxL2VzaWduZXQiLCJub25jZSI6IllXZUluR2MwdVljcHQ1TlZLcTVYIiwiaXNzIjoiODhWanQzNGM1VHd6MW9KIn0.MMVBHdIpvmRwBw4-MY6LaE4p-k5NwCRcwktKCK3MvNiJ5LNqx_Z4lJ23x359IxFtpMNbH0xnC0ajU-mYLJRJ7WsbKWemENmHp3e7nRDzDlDufu92vzh_dmHvxmcxQQKEEr_xH5c8vypUANsAbg8Ltas6eoe5jFoSrS-Oi4TNplw8aoS4cdH16ezEdb1RtluSKi5tajM9eS2reREj3sFXyVphxIxCUD6VbwuvByPPOWhSVf4bW_pCAoztiRJ9Fc_WXR7XLTIn3i46QczopaBIp8xPwEbBE_cl3Lo9etA0oLOxnRz6bzk5sa-ZtvVnsW4vOusy3mzSjVe10oHxWgw2CQ
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  format:
                    type: string
                    description: JSON string denoting the format of the issued Credential.
                  credential:
                    description: 'Contains issued Credential. MUST be present when acceptance_token is not returned. MAY be a JSON string or a JSON object, depending on the Credential format.'
                    oneOf:
                      - type: object
                      - type: string
                required:
                  - format
                  - credential
              examples:
                Example 1:
                  value:
                    format: ldp_vc
                    credential:
                      issuanceDate: '2023-10-30T06:17:28.025Z'
                      credentialSubject:
                        gender: Male
                        name: John Doe
                        id: 'did:jwk:eyJrdHkiOiJSU0EiLCJlIjoiQVFBQiIsInVzZSI6InNpZyIsImtpZCI6IkY1R0hPai1STHF0S19TSUtabmx4ckpoTFN4MFAyVlZsNFVzTXpuT1ByNW8iLCJhbGciOiJSUzI1NiIsIm4iOiJtYzdzbWdHd0N6ZzZ5WENoM2ZYc3hTc2ROZlFzM3BTZGdZZUstdnpnYWZCQkNBTnZ2YWxqeUJ2YTlYZzA5YWhLMG9KV0hZY2p3Rm5QeU5uX0dkSjJValZPRlJDbllZNWZvejUxbmt0NUJod2l1V1IteWpZN2NZaXI5MjAySlI2RldaNExpamVVNm54WUVrbnFxZ1B6LXZmU0pSa2M5b2t6VEJ4LW9qb0FaOWJTaUJqMm9XNzVsWkhrMlBoU0NkTDNtQzUyaVRkUWpra2NFNHY0ZVpzWVBrZVROSmlmWE1sQ1J3Mlg0X1N6d2N3YkNNWUJqWlhRUFJ1OXdudEJqd0NUOGZTaDJjZVlCdUs4YlViQXBLelhDSGotUnAwZHMyMDdtbEFhcnRlRURhMS1qbW5ZYWxxS2lfQ2tzU1ZuNEQyMThXOWZHSElYcEJlSXBTWjlHc3hHdXcifQ=='
                        email: john.doe@mail.com
                      id: 'urn:uuid:3978344f-8596-4c3a-a978-8fcaba3903c5'
                      proof:
                        type: RsaSignature2018
                        created: '2023-10-30T06:17:28Z'
                        proofPurpose: assertionMethod
                        verificationMethod: 'https://esignet-mock.collab.mosip.net/v1/esignet/oauth/.well-known/jwks.json'
                        jws: eyJ4NWMiOlsiTUlJRHZUQ0NBcVdnQXdJQkFnSUk1VHhveEYydjhRQXdEUVlKS29aSWh2Y05BUUVMQlFBd2R6RUxNQWtHQTFVRUJoTUNTVTR4Q3pBSkJnTlZCQWdNQWt0Qk1SSXdFQVlEVlFRSERBbENRVTVIUVV4UFVrVXhEVEFMQmdOVkJBb01CRWxKVkVJeEdqQVlCZ05WQkFzTUVVMVBVMGxRTFZSRlEwZ3RRMFZPVkVWU01Sd3dHZ1lEVlFRRERCTjNkM2N1Ylc5emFYQXVhVzhnS0ZKUFQxUXBNQjRYRFRJek1ETXlOVEV3TWpFeE1Wb1hEVEkyTURNeU5ERXdNakV4TVZvd2Z6RUxNQWtHQTFVRUJoTUNTVTR4Q3pBSkJnTlZCQWdNQWt0Qk1SSXdFQVlEVlFRSERBbENRVTVIUVV4UFVrVXhEVEFMQmdOVkJBb01CRWxKVkVJeEdqQVlCZ05WQkFzTUVVMVBVMGxRTFZSRlEwZ3RRMFZPVkVWU01TUXdJZ1lEVlFRRERCdDNkM2N1Ylc5emFYQXVhVzhnS0U5SlJFTmZVMFZTVmtsRFJTa3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDeGJpYUt3M082dlI0SHczaExDc3FiQ1czRkc4UEthQ0RabDZNTUlEblVlbCtJa1FDMmxscTgrWlRMcmE3S1ViT294UHVxVzhwNDFmdVRqSlNzK0x3aEpRV3J2S2htbDB5THRSVkJCOUVTR2l5NVFYaWNSODBxVWRScjN3eVhRZkJGTFFEN1lRb1l4MUZMTUxaR21IYmd2N3Rnc3hxY2k1NEFjTTZmb1BXaUd0Z2NZbjJRenRsbTRjZ3FuWVNmcThDc3dtZ3o5N052ckxDRXF3bFhRZkpGQVZlRFF2SXFxNk00dkNkcXFLaldtNjlRVjlCUXUrczdCYkpFbUtGRDVtRTRhdWFwWW4zbWZLeXJWaGFGUGpFUW5iMHA0V3dGR3YzYTROTEFPRXVqVkJlVjUzZjJmdUZqSUxzZnBMK3MzRERRYUlYbEJKa3p3dWdjdWZ5Z1MzRm5BZ01CQUFHalJUQkRNQklHQTFVZEV3RUIvd1FJTUFZQkFmOENBUUV3SFFZRFZSME9CQllFRkg4dXN2ME52ekZHaWx4Sko2dExBYkVLSUJMQk1BNEdBMVVkRHdFQi93UUVBd0lDaERBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQWQ2ZVJmTzFZbHN2YXRMSktWZGVNcStzclhlYjNTblZJM0ZQSWlQa3d2STNsM1pmUVQ1ZzE0NWc2ajEzQisvOFZUNGFWZXBDZU5PbWNIczc3Y2g0OWxIUmg4anF3UXlqUFBsc1NmcW5Kd0JGUmRvNStkRnB5elZNeFdDUzBFRWJqb3RkZ2pvci9YaVVoRmFGMkhkZThyeHNnZWNmaUFZZS9nWnFZZjYzOFRxRi9RTnFCaTRhbitGQmNtT0FDalR6THE5Z01tSnJYa2h3V3V5dm5Sc0hKM2g2ZXd0b0RMN2gycm5QK2hBT1o3ckd1SEhDaVVXayt6eUcxdjdKT0NwSUJ2TEJyalpVbzNDRmxacEs3NERkbHBSVU1nK3JvcVdDNnFkTmZuemc5dFZBb1ZlVy9uUHAweit1QUtmb2w2NENlRUJmUmsrUXV2SmRyKzhCL1JaOHp4QT09Il0sIng1dCNTMjU2IjoiZkxnNTQ5dGFabmViUGZ6OTVlRzhyZXZuX2lSU2luMTFKZGxteFhOaUE5RSIsImtpZCI6IktPX21UcF9zVDB6bEZFVWRfblR0aGZvOXRFOVNfbUZCcno5MXBmN3lEUUEiLCJhbGciOiJSUzI1NiJ9..pZkf21YoT2mqzYlEJy9fkBartMTvEMMOUZPXw4-HIc6DeDUTqAMcRSkEfP1_ozvBE1ukxzqM2_IYpdQCVbYXEsCQLAXUmDQTfbdf8GImWBkRV7hXpCAJCN14A69trZCLvsW0jhIkIoSwPSszGk4MZ9rW7fBRpG9kbCF4nWajP5nRsPdC6tSckHWlHAWus0IhsYhSh85y2VYtBHTZ9g_NaB5S2pSp4MR_BBFdlpSfrgoepr7D9EY1hhU-b8vbjve9QnGSesqfPXUOKMwNA5UZ7tUYStWX8y9-19wwC3e_FjKhnKXMZrlAhCOLSL5O81r3ZWI3bpfOufHFZIZ7_gdvnQ
                      type:
                        - VerifiableCredential
                        - Person
                      '@context':
                        - 'https://www.w3.org/2018/credentials/v1'
                        - 'https://schema.org/'
                      issuer: 'did:example:123456789'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    enum:
                      - invalid_vc_format
                      - invalid_proof
                      - invalid_request
                      - unknown_error
                      - invalid_scope
                      - proof_header_invalid_key
                      - vc_issuance_failed
                      - unsupported_credential_format
                      - unsupported_credential_type
                      - proof_invalid_nonce
                      - not_implemented
                  error_description:
                    type: string
                  c_nonce:
                    type: string
                    description: This will have the value only when the error is "proof_invalid_nonce".
                  c_nonce_expires_in:
                    type: integer
                    description: This will have the value only when the error is "proof_invalid_nonce".
                required:
                  - error
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    enum: [invalid_token]
                  error_description:
                    type: string
                required:
                  - error
      security:
        - Authorization-access_token: []
components:
  schemas:
    VCError:
      type: object
      properties:
        error:
          type: string
        error_description:
          type: string
        c_nonce:
          type: string
        c_nonce_expires_in:
          type: integer
          format: int32
    CredentialDefinition:
      required:
        - type
      type: object
      properties:
        type:
          type: array
          items:
            type: string
        credentialSubject:
          type: object
          additionalProperties:
            type: object
        '@context':
          type: array
          items:
            type: string
    CredentialProof:
      required:
        - proof_type
      type: object
      properties:
        proof_type:
          type: string
        jwt:
          type: string
        cwt:
          type: string
    CredentialRequest:
      type: object
      oneOf:
        - title: CredentialRequest (mso_modc)
          required:
            - format
            - proof
            - doctype
            - claims
          properties:
            format:
              enum: [mso_mdoc]
            doctype:
              type: string
              minLength: 1
              example: org.iso.18013.5.1.mDL
            claims:
              type: object
              additionalProperties:
                type: object
                additionalProperties: true
              minProperties: 1
            proof:
              $ref: '#/components/schemas/CredentialProof'
            credential_definition:
              not: {}
        - title: CredentialRequest (other formats)
          required:
            - format
            - proof
            - credential_definition
          properties:
            format:
              enum: [jwt_vc_json, jwt_vc_json-ld, ldp_vc]
            credential_definition:
              $ref: '#/components/schemas/CredentialDefinition'
            proof:
              $ref: '#/components/schemas/CredentialProof'
            
      
        
    CredentialResponse:
      type: object
      properties:
        format:
          type: string
        credential:
          type: object
        acceptance_token:
          type: string
        c_nonce:
          type: string
        c_nonce_expires_in:
          type: integer
          format: int32
    
  securitySchemes: 
    Authorization-access_token:
      type: http
      scheme: bearer
